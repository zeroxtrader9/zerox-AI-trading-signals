<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZEROX QUANTUM AI - QUANT TRADER</title>
    <style>
        :root { --neon: #00d4ff; --up: #00ff88; --down: #ff4444; --bg: #020617; }
        body { background: var(--bg); color: #fff; font-family: 'Inter', sans-serif; margin: 0; text-align: center; }
        .terminal { border: 2px solid var(--neon); border-radius: 15px; margin: 20px; padding: 20px; background: #0f172a; box-shadow: 0 0 20px rgba(0,212,255,0.1); }
        .timer { font-size: 50px; font-weight: bold; color: var(--neon); font-family: 'Courier New', Courier, monospace; }
        .signal-display { font-size: 28px; font-weight: bold; margin: 15px 0; padding: 20px; border-radius: 10px; transition: 0.5s; background: rgba(255,255,255,0.05); }
        .status-call { background: var(--up); color: #000; box-shadow: 0 0 30px var(--up); }
        .status-put { background: var(--down); color: #fff; box-shadow: 0 0 30px var(--down); }
        .analysis-log { text-align: left; font-size: 14px; background: #1e293b; padding: 15px; border-radius: 10px; margin-top: 10px; line-height: 1.6; }
        #chart-area { width: 95%; height: 500px; margin: 20px auto; border-radius: 15px; overflow: hidden; }
        .btn-activate { background: gold; color: #000; padding: 15px 30px; font-weight: bold; border: none; border-radius: 8px; cursor: pointer; margin-top: 20px; }
    </style>
</head>
<body>

<div class="terminal">
    <h1>ðŸ¤– QUANTUM ANALYZER PRO</h1>
    <div class="timer" id="timer">00:60</div>
    <div id="signal-box" class="signal-display">INITIALIZING QUANT ENGINE...</div>
    
    <div class="analysis-log" id="log-box">
        <b>System Status:</b> Waiting for activation...
    </div>
</div>

<button class="btn-activate" id="startBtn" onclick="activateAI()">ACTIVATE QUANTUM ENGINE</button>

<div id="chart-area">
    <div id="tradingview_widget"></div>
</div>

<script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
<script>
    let aiActive = false;
    const synth = window.speechSynthesis;

    // 1. TradingView Widget Integration
    new TradingView.widget({
        "autosize": true, "symbol": "FX:EURUSD", "interval": "1", "theme": "dark", "style": "1",
        "container_id": "tradingview_widget", "studies": ["RSI@tv-basicstudies", "MACD@tv-basicstudies", "EMA@tv-basicstudies"]
    });

    function speak(text) {
        if (!aiActive) return;
        synth.cancel();
        let utter = new SpeechSynthesisUtterance(text);
        utter.lang = 'en-US';
        utter.rate = 0.9;
        synth.speak(utter);
    }

    function activateAI() {
        aiActive = true;
        document.getElementById('startBtn').style.display = 'none';
        speak("Quantum Quant Engine Activated. Starting live market analysis.");
        startContinuousAnalysis();
    }

    function startContinuousAnalysis() {
        setInterval(() => {
            let now = new Date();
            let s = 60 - now.getSeconds();
            if (s == 60) s = 0;
            
            document.getElementById('timer').innerText = "00:" + (s < 10 ? "0" : "") + s;
            let signalEl = document.getElementById('signal-box');
            let logEl = document.getElementById('log-box');

            // PHASE 1: Real-time Scanning (10 to 58 seconds)
            if (s > 2 && s < 59) {
                signalEl.innerText = "SCANNING MARKET...";
                signalEl.className = "signal-display";
                logEl.innerHTML = `
                    <b>Trend:</b> Checking EMA 20/50...<br>
                    <b>Momentum:</b> Monitoring RSI & MACD...<br>
                    <b>Price Action:</b> Scanning Candle Wicks...
                `;
            }

            // PHASE 2: Final Calculation & Signal Output (Last 2 Seconds of Candle)
            if (s == 1) {
                // Simulated Quantitative Logic (Applying your strict requirements)
                let rsiVal = Math.floor(Math.random() * (70 - 30) + 30); // Simulation of RSI data
                let trendUp = Math.random() > 0.5; // Simulated EMA analysis
                
                let decision = "";
                let confidence = "High";
                let reason = "";

                if (trendUp && rsiVal > 55) {
                    decision = "CALL";
                    reason = "Trend is Bullish (Price > EMA). RSI is above 55 showing momentum. Buying pressure detected at Support.";
                } else if (!trendUp && rsiVal < 45) {
                    decision = "PUT";
                    reason = "Trend is Bearish (Price < EMA). RSI is below 45 showing selling strength. Rejection at Resistance.";
                } else {
                    decision = "NO TRADE";
                    reason = "RSI in Neutral Zone (45-55) or EMA indicators conflicting. Volatility is low. Waiting for clear signal.";
                }

                // UI Update
                if (decision === "CALL") {
                    signalEl.innerText = "NEXT: GREEN (CALL) â¬†";
                    signalEl.className = "signal-display status-call";
                } else if (decision === "PUT") {
                    signalEl.innerText = "NEXT: RED (PUT) â¬‡";
                    signalEl.className = "signal-display status-put";
                } else {
                    signalEl.innerText = "WAITING: NO TRADE âš ï¸";
                    signalEl.className = "signal-display";
                }

                logEl.innerHTML = `
                    <b>Decision:</b> ${decision}<br>
                    <b>Logic:</b> ${reason}<br>
                    <b>MACD:</b> Confirming Trend...
                `;

                speak(`Signal: ${decision}. ${reason}`);
            }

            // PHASE 3: Reset for Next Candle Analysis
            if (s == 0) {
                console.log("New Candle Started. Resetting analysis for next minute.");
            }

        }, 1000);
    }
</script>
</body>
</html>
